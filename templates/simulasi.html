{% extends "layout.html" %}

{% block content %}
<!-- Hero Section dengan Gambar -->
<div class="hero-section-with-image">
    <div class="hero-image-container">
        <img src="{{ url_for('static', filename='image/hero_section.jpg') }}" 
             alt="Simulasi Banjir" 
             class="hero-image">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title">SIMULASI BANJIR</h1>
            <p class="hero-subtitle">
                Kalkulator interaktif untuk memprediksi risiko banjir berdasarkan parameter cuaca
            </p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-8">
        <!-- Input Parameters -->
        <div class="card mb-30">
            <div class="card-header">
                <h2 class="card-title">Parameter Cuaca</h2>
                <button class="btn btn-secondary" onclick="resetForm()">
                    Reset Parameter
                </button>
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('simulasi') }}" id="simulationForm">
                    <div class="row">
                        <!-- Rainfall -->
                        <div class="col-6">
                            <div class="form-group">
                                <label for="rainfall" class="form-label">
                                    Curah Hujan <span class="text-danger">*</span>
                                </label>
                                <input type="number" 
                                       class="form-control" 
                                       id="rainfall" 
                                       name="rainfall" 
                                       min="0" 
                                       max="500" 
                                       step="0.01"
                                       value="50.00"
                                       required>
                                <div class="form-text">
                                    Volume hujan per jam (mm). Normal: 0-100 mm, Ekstrem: >200 mm
                                </div>
                                <div class="slider-container mt-2">
                                    <input type="range" 
                                           class="form-range" 
                                           min="0" 
                                           max="500" 
                                           step="1" 
                                           value="50"
                                           oninput="updateRainfallValue(this.value)">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Water Level -->
                        <div class="col-6">
                            <div class="form-group">
                                <label for="water_level" class="form-label">
                                    Tinggi Air <span class="text-danger">*</span>
                                </label>
                                <input type="number" 
                                       class="form-control" 
                                       id="water_level" 
                                       name="water_level" 
                                       min="60" 
                                       max="150" 
                                       step="0.01"
                                       value="100.00"
                                       required>
                                <div class="form-text">
                                    Ketinggian air di atas permukaan laut (mdpl). Normal: 90-110 mdpl
                                </div>
                                <div class="slider-container mt-2">
                                    <input type="range" 
                                           class="form-range" 
                                           min="60" 
                                           max="150" 
                                           step="1" 
                                           value="100"
                                           oninput="updateWaterLevelValue(this.value)">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <!-- Humidity -->
                        <div class="col-6">
                            <div class="form-group">
                                <label for="humidity" class="form-label">
                                    Kelembapan <span class="text-danger">*</span>
                                </label>
                                <input type="number" 
                                       class="form-control" 
                                       id="humidity" 
                                       name="humidity" 
                                       min="0" 
                                       max="100" 
                                       step="0.01"
                                       value="70.00"
                                       required>
                                <div class="form-text">
                                    Kelembapan udara relatif (%). Normal: 60-80%
                                </div>
                                <div class="slider-container mt-2">
                                    <input type="range" 
                                           class="form-range" 
                                           min="0" 
                                           max="100" 
                                           step="1" 
                                           value="70"
                                           oninput="updateHumidityValue(this.value)">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Temperature -->
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label">
                                    Suhu Harian <span class="text-danger">*</span>
                                </label>
                                <div class="row">
                                    <div class="col-6">
                                        <input type="number" 
                                               class="form-control" 
                                               id="temp_min" 
                                               name="temp_min" 
                                               min="-50" 
                                               max="50" 
                                               step="0.1"
                                               value="25.0"
                                               placeholder="Minimum"
                                               required>
                                        <div class="form-text text-center">Minimum (°C)</div>
                                    </div>
                                    <div class="col-6">
                                        <input type="number" 
                                               class="form-control" 
                                               id="temp_max" 
                                               name="temp_max" 
                                               min="-50" 
                                               max="50" 
                                               step="0.1"
                                               value="30.0"
                                               placeholder="Maksimum"
                                               required>
                                        <div class="form-text text-center">Maksimum (°C)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <div class="form-group mt-4 text-center">
                        <button type="submit" class="btn btn-primary btn-lg" id="predictBtn">
                            PREDIKSI SEKARANG
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Prediction Result -->
        {% if result %}
        <div class="card mb-30" id="resultCard">
            <div class="card-header">
                <h2 class="card-title">Hasil Prediksi</h2>
                <div class="prediction-time">
                    <small>{{ result.timestamp if result.timestamp else '' }}</small>
                </div>
            </div>
            <div class="card-body">
                <!-- Risk Level Display -->
                <div class="risk-level-display risk-{{ result.status|lower }}">
                    <div class="risk-level-title">{{ result.status }}</div>
                    <div class="risk-level-score">Risk Score: {{ result.risk_score }}</div>
                    <div class="risk-level-message">{{ result.message }}</div>
                </div>
                
                <!-- Detailed Analysis -->
                <div class="detailed-analysis mt-4">
                    <h4>Analisis Detail</h4>
                    <div class="row">
                        <div class="col-6">
                            <div class="parameter-analysis">
                                <h5>Parameter Input:</h5>
                                <table class="table table-sm">
                                    <tr>
                                        <td>Curah Hujan:</td>
                                        <td><strong>{{ result.features.rainfall }} mm</strong></td>
                                        <td>
                                            {% if result.features.rainfall < 100 %}
                                                <span class="badge badge-success">Normal</span>
                                            {% elif result.features.rainfall < 200 %}
                                                <span class="badge badge-warning">Lebat</span>
                                            {% else %}
                                                <span class="badge badge-danger">Ekstrem</span>
                                            {% endif %}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Tinggi Air:</td>
                                        <td><strong>{{ result.features.water_level }} mdpl</strong></td>
                                        <td>
                                            {% if result.features.water_level < 110 %}
                                                <span class="badge badge-success">Normal</span>
                                            {% elif result.features.water_level < 130 %}
                                                <span class="badge badge-warning">Meningkat</span>
                                            {% else %}
                                                <span class="badge badge-danger">Tinggi</span>
                                            {% endif %}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Kelembapan:</td>
                                        <td><strong>{{ result.features.humidity }}%</strong></td>
                                        <td>
                                            {% if result.features.humidity < 80 %}
                                                <span class="badge badge-success">Normal</span>
                                            {% else %}
                                                <span class="badge badge-warning">Lembap</span>
                                            {% endif %}
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="risk-breakdown">
                                <h5>Breakdown Risiko:</h5>
                                <div class="risk-factors">
                                    <div class="risk-factor">
                                        <div class="factor-label">Faktor Curah Hujan</div>
                                        <div class="factor-progress">
                                            <div class="progress">
                                                <div class="progress-bar" 
                                                     style="width: {{ (result.features.rainfall / 500 * 100)|round(1) }}%">
                                                </div>
                                            </div>
                                            <div class="factor-value">
                                                {{ (result.features.rainfall / 500 * 100)|round(1) }}%
                                            </div>
                                        </div>
                                    </div>
                                    <div class="risk-factor">
                                        <div class="factor-label">Faktor Ketinggian Air</div>
                                        <div class="factor-progress">
                                            <div class="progress">
                                                <div class="progress-bar" 
                                                     style="width: {{ ((result.features.water_level - 60) / 90 * 100)|round(1) }}%">
                                                </div>
                                            </div>
                                            <div class="factor-value">
                                                {{ ((result.features.water_level - 60) / 90 * 100)|round(1) }}%
                                            </div>
                                        </div>
                                    </div>
                                    <div class="risk-factor">
                                        <div class="factor-label">Faktor Kelembapan</div>
                                        <div class="factor-progress">
                                            <div class="progress">
                                                <div class="progress-bar" 
                                                    style="width: {{ result.features.humidity }}%">
                                                </div>
                                            </div>
                                            <div class="factor-value">
                                                {{ result.features.humidity }}%
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recommendations -->
                    <div class="recommendations mt-4">
                        <h5>Rekomendasi:</h5>
                        <div class="recommendation-list">
                            {% if result.status == 'RENDAH' %}
                            <div class="recommendation-item">
                                <span>Kondisi normal, tetap pantau perkembangan cuaca</span>
                            </div>
                            <div class="recommendation-item">
                                <span>Pantau update prediksi setiap 6 jam</span>
                            </div>
                            {% elif result.status == 'MENENGAH' %}
                            <div class="recommendation-item">
                                <span>Siaga - Persiapkan langkah antisipasi</span>
                            </div>
                            <div class="recommendation-item">
                                <span>Koordinasi dengan pihak terkait</span>
                            </div>
                            <div class="recommendation-item">
                                <span>Pantau update prediksi setiap 2 jam</span>
                            </div>
                            {% else %}
                            <div class="recommendation-item">
                                <span>WASPADA - Ambil langkah pencegahan segera</span>
                            </div>
                            <div class="recommendation-item">
                                <span>Informasikan kepada masyarakat sekitar</span>
                            </div>
                            <div class="recommendation-item">
                                <span>Siapkan jalur evakuasi dan titik kumpul</span>
                            </div>
                            <div class="recommendation-item">
                                <span>Pantau update prediksi setiap 30 menit</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
    
    <div class="col-4">
        <!-- Information Panel -->
        <div class="card mb-20">
            <div class="card-header">
                <h2 class="card-title">Cara Menggunakan</h2>
            </div>
            <div class="card-body">
                <ol>
                    <li>Masukkan parameter cuaca di kolom input dengan sesuai</li>
                    <li>Gunakan slider untuk penyesuaian cepat</li>
                    <li>Pastikan suhu maksimum ≥ suhu minimum</li>
                    <li>Klik "PREDIKSI SEKARANG" untuk analisis</li>
                    <li>Baca hasil dan rekomendasi</li>
                </ol>
            </div>
        </div>
        
        <!-- Parameter Guidelines -->
        <div class="card mb-20">
            <div class="card-header">
                <h2 class="card-title">Panduan Parameter</h2>
            </div>
            <div class="card-body">
                <div class="parameter-guide">
                    <div class="guide-item">
                        <div class="guide-content">
                            <h6>Curah Hujan</h6>
                            <p><strong>Normal:</strong> 0-100 mm</p>
                            <p><strong>Waspada:</strong> 100-200 mm</p>
                            <p><strong>Bahaya:</strong> >200 mm</p>
                        </div>
                    </div>
                    <div class="guide-item">
                        <div class="guide-content">
                            <h6>Tinggi Air</h6>
                            <p><strong>Normal:</strong> 90-110 mdpl</p>
                            <p><strong>Meningkat:</strong> 110-130 mdpl</p>
                            <p><strong>Kritis:</strong> >130 mdpl</p>
                        </div>
                    </div>
                    <div class="guide-item">
                        <div class="guide-content">
                            <h6>Kelembapan</h6>
                            <p><strong>Kering:</strong> 0-40%</p>
                            <p><strong>Normal:</strong> 40-80%</p>
                            <p><strong>Lembap:</strong> 80-100%</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Sample Scenarios -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Skenario Contoh</h2>
            </div>
            <div class="card-body">
                <div class="scenarios">
                    <div class="scenario-item" onclick="loadScenario('normal')">
                        <div class="scenario-content">
                            <h6>Kondisi Normal</h6>
                            <p>Curah hujan 50 mm, tinggi air 100 mdpl</p>
                        </div>
                    </div>
                    <div class="scenario-item" onclick="loadScenario('heavy_rain')">
                        <div class="scenario-content">
                            <h6>Hujan Lebat</h6>
                            <p>Curah hujan 150 mm, tinggi air 120 mdpl</p>
                        </div>
                    </div>
                    <div class="scenario-item" onclick="loadScenario('extreme')">
                        <div class="scenario-content">
                            <h6>Kondisi Ekstrem</h6>
                            <p>Curah hujan 250 mm, tinggi air 140 mdpl</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Additional Info -->
<div class="card mt-20">
    <div class="card-header">
        <h2 class="card-title">Informasi Teknis</h2>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-6">
                <h5>Metode Prediksi</h5>
                <p>Sistem menggunakan <strong>Artificial Neural Network</strong> yang telah dilatih dengan data historis 5 tahun untuk memprediksi risiko banjir berdasarkan pola parameter cuaca.</p>
            </div>
            <div class="col-6">
                <h5>Akurasi Model</h5>
                <p>Model memiliki akurasi <strong>85-90%</strong> dalam memprediksi kejadian banjir berdasarkan data uji. Hasil prediksi bersifat estimasi dan perlu dikonfirmasi dengan kondisi aktual.</p>
            </div>
        </div>
        <div class="alert alert-info mt-3">
            <strong>Disclaimer:</strong> Hasil simulasi ini adalah prediksi berdasarkan model matematis. 
            Selalu ikuti informasi resmi dari pihak berwenang dan prioritaskan keselamatan.
        </div>
    </div>
</div>

{% endblock %}

{% block extra_css %}
<style>
/* Hero Section with Image */
.hero-section-with-image {
    margin-bottom: 50px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
}

.hero-image-container {
    position: relative;
    width: 100%;
    height: 500px;
    overflow: hidden;
}

.hero-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    animation: cinematicZoomIn 15s ease-in-out infinite alternate;
}

@keyframes cinematicZoomIn {
    0% {
        transform: scale(1);
    }
    100% {
        transform: scale(1.08);
    }
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.4));
}

.hero-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    width: 90%;
    max-width: 800px;
    z-index: 2;
}

.hero-title {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 20px;
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: none;
    filter: drop-shadow(3px 3px 8px rgba(0, 0, 0, 0.9))
            drop-shadow(1px 1px 4px rgba(0, 0, 0, 1))
            drop-shadow(0 0 20px rgba(59, 130, 246, 0.5));
}

.hero-subtitle {
    color: #FFFFFF !important;
    font-size: 1.3rem;
    max-width: 700px;
    margin: 0 auto;
    line-height: 1.8;
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9), 
                 1px 1px 3px rgba(0, 0, 0, 1),
                 0 0 15px rgba(0, 0, 0, 0.6);
    filter: brightness(1.1);
}

.slider-container {
    padding: 10px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    border: 1px solid var(--border);
}

.form-range {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    outline: none;
}

.form-range::-webkit-slider-thumb {
    width: 20px;
    height: 20px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
}

.risk-level-display {
    text-align: center;
    padding: 30px;
    border-radius: 10px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
}

.risk-rendah {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));
    border: 2px solid rgba(16, 185, 129, 0.3);
}

.risk-menengah {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05));
    border: 2px solid rgba(245, 158, 11, 0.3);
}

.risk-tinggi {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05));
    border: 2px solid rgba(239, 68, 68, 0.3);
}

.risk-level-title {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 10px;
}

.risk-rendah .risk-level-title { color: #10b981; }
.risk-menengah .risk-level-title { color: #f59e0b; }
.risk-tinggi .risk-level-title { color: #ef4444; }

.risk-level-score {
    font-size: 1.2rem;
    color: var(--muted);
    margin-bottom: 15px;
}

.risk-level-message {
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.5;
}

.detailed-analysis h4, .detailed-analysis h5 {
    color: var(--accent);
    margin-bottom: 15px;
}

.parameter-analysis table {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
}

.parameter-analysis td {
    padding: 8px;
    border: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.parameter-analysis tr:last-child td {
    border-bottom: none;
}

.risk-factors {
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
}

.risk-factor {
    margin-bottom: 15px;
}

.risk-factor:last-child {
    margin-bottom: 0;
}

.factor-label {
    font-size: 0.9rem;
    color: var(--muted);
    margin-bottom: 5px;
}

.factor-progress {
    display: flex;
    align-items: center;
    gap: 10px;
}

.factor-progress .progress {
    flex: 1;
    height: 6px;
    background-color: rgba(255, 255, 255, 0.1);
}

.factor-progress .progress-bar {
    background-color: var(--accent);
    border-radius: 3px;
}

.factor-value {
    font-size: 0.85rem;
    color: var(--accent);
    font-weight: 600;
    min-width: 40px;
    text-align: right;
}

.recommendation-list {
    padding: 15px;
    background: rgba(0, 174, 230, 0.05);
    border-radius: 8px;
    border: 1px solid rgba(0, 174, 230, 0.1);
}

.recommendation-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 0;
    border-bottom: 1px solid rgba(0, 174, 230, 0.1);
}

.recommendation-item:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.parameter-guide {
    padding: 10px 0;
}

.guide-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 0;
    border-bottom: 1px solid var(--border);
}

.guide-item:last-child {
    border-bottom: none;
}

.guide-content h6 {
    color: var(--accent);
    margin-bottom: 5px;
    font-size: 0.9rem;
}

.guide-content p {
    margin: 2px 0;
    font-size: 0.85rem;
    color: var(--muted);
}

.scenarios {
    padding: 10px 0;
}

.scenario-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    margin-bottom: 10px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    border: 1px solid var(--border);
    cursor: pointer;
    transition: all 0.3s ease;
}

.scenario-item:hover {
    background: rgba(0, 174, 230, 0.1);
    border-color: var(--accent);
}

.scenario-item:last-child {
    margin-bottom: 0;
}

.scenario-content h6 {
    color: var(--accent);
    margin-bottom: 3px;
    font-size: 0.9rem;
}

.scenario-content p {
    margin: 0;
    font-size: 0.8rem;
    color: var(--muted);
}

.prediction-time {
    color: var(--muted);
    font-size: 0.9rem;
}

@media (max-width: 768px) {
    .hero-image-container {
        height: 400px;
    }
    
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-subtitle {
        font-size: 1.1rem;
    }
    
    .col-6 {
        width: 100%;
    }
    
    .risk-level-title {
        font-size: 2rem;
    }
    
    .factor-progress {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
    
    .factor-value {
        text-align: left;
    }
}
</style>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize slider values
    updateRainfallValue(50);
    updateWaterLevelValue(100);
    updateHumidityValue(70);
    
    // Form validation
    const form = document.getElementById('simulationForm');
    const predictBtn = document.getElementById('predictBtn');
    
    form.addEventListener('submit', function(e) {
        const tempMin = parseFloat(document.getElementById('temp_min').value);
        const tempMax = parseFloat(document.getElementById('temp_max').value);
        
        if (tempMax < tempMin) {
            e.preventDefault();
            alert('Suhu maksimum harus lebih besar dari suhu minimum');
            return false;
        }
        
        // Show loading state
        predictBtn.disabled = true;
        predictBtn.innerHTML = '<span class="spinner-border spinner-border-sm"></span> Menganalisis...';
    });
});

function updateRainfallValue(value) {
    document.getElementById('rainfall').value = parseFloat(value).toFixed(2);
}

function updateWaterLevelValue(value) {
    document.getElementById('water_level').value = parseFloat(value).toFixed(2);
}

function updateHumidityValue(value) {
    document.getElementById('humidity').value = parseFloat(value).toFixed(2);
}

function resetForm() {
    document.getElementById('simulationForm').reset();
    updateRainfallValue(50);
    updateWaterLevelValue(100);
    updateHumidityValue(70);
    
    // Reset button state
    const predictBtn = document.getElementById('predictBtn');
    predictBtn.disabled = false;
    predictBtn.textContent = 'PREDIKSI SEKARANG';
    
    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
    
    alert('Form telah direset ke nilai default');
}

function loadScenario(scenarioType) {
    let rainfall, waterLevel, humidity, tempMin, tempMax;
    
    switch(scenarioType) {
        case 'normal':
            rainfall = 50.00;
            waterLevel = 100.00;
            humidity = 70.00;
            tempMin = 25.0;
            tempMax = 30.0;
            break;
        case 'heavy_rain':
            rainfall = 150.00;
            waterLevel = 120.00;
            humidity = 85.00;
            tempMin = 23.0;
            tempMax = 28.0;
            break;
        case 'extreme':
            rainfall = 250.00;
            waterLevel = 140.00;
            humidity = 95.00;
            tempMin = 22.0;
            tempMax = 26.0;
            break;
        default:
            return;
    }
    
    // Update form values
    document.getElementById('rainfall').value = rainfall;
    document.getElementById('water_level').value = waterLevel;
    document.getElementById('humidity').value = humidity;
    document.getElementById('temp_min').value = tempMin;
    document.getElementById('temp_max').value = tempMax;
    
    // Update sliders
    document.querySelector('input[oninput="updateRainfallValue(this.value)"]').value = rainfall;
    document.querySelector('input[oninput="updateWaterLevelValue(this.value)"]').value = waterLevel;
    document.querySelector('input[oninput="updateHumidityValue(this.value)"]').value = humidity;
    
    // Update display values
    updateRainfallValue(rainfall);
    updateWaterLevelValue(waterLevel);
    updateHumidityValue(humidity);
    
    alert(`Skenario "${scenarioType}" dimuat`);
}

// Auto-scroll to result after form submission
document.addEventListener('DOMContentLoaded', function() {
    const resultCard = document.getElementById('resultCard');
    
    // Jika ada hasil prediksi (card result muncul), scroll ke sana
    if (resultCard) {
        setTimeout(() => {
            resultCard.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }, 300); // Delay 300ms untuk memastikan page sudah fully loaded
    }
});
</script>
{% endblock %}